language: python
env:
  global:
    secure: SnOb1gyjfP/qeo7ImKQU2nGyL+L253w426DdpXca2O0ar0u1RcKsy4lEq/Kl4yJtgguB/4LZmcq/+HCwTHWi0NHstOWu2HEdWBzFVbOX2xsMMSThQeOQVGzKQi9llbcikAGjIYvPXrcLD3bmEvA1V1iVGF/S70FKRFAEul7kfXFrhYcC5f8K8pw298tp9O1UHi2AGhRo4ly54OFVhSMD95+/C9OXWjBMMhgBM1H5x6a7Br+E8lZC9jmfb6hWSI93zd087FGTYSatq0TJ7Uy7zxJbnKQcSCfahEpREC8yvg7HQdScFtcV7tpCOe2VPNX/MYDdsYxr+hACw57qvb1PH8f+zWzA6TEK7pexDdJgn1/aF2+2mgqjMaY/Iz03+V9Ev2PkXZ0iHf2LrWIILO0uNv3tHJ+vMFAvJ0EgJHjX7dvTnpZm/swJRpmva7KVu90dBrgD7NG/uiYNCRBY1QAXbPV+lRN6lZ599G4x+3I77QjO7SIv9+odPXcDeOCnyhpp9nrajGscFwZQQwvPgcuQQtXIPVLtrpXpxZuhEj1zk1cJvwP8gS27M12v/VS24tfaaz9hYOKxRUzR1mkpU0pfzfHIbwloJ3SgyC7BeUZvqwM4mYU/0nALuSTMnmVMzzbOQkmEW9G3xFmO+8Jgi4CiCGgGKP90Pz9Fcr+c4NVJIfg=
install:
- pip install -e .
script:
- py.test
deploy:
  provider: pypi
  user: syncloud-build
  password:
    secure: xGlBE2JmZOGjRzBJLSP5KXKoldnSt2Yg+zB6T8lIGV8JxYUj1hPUjOIrLHibJ+bjUEXOkaV43IVGVGwBRVlTjP8fg/T4sg0vUcdGc8aVmPX1Fwxp5IxVs3ggYM2JxfDnSeMuRZpwcjoYd/Us5+guoFOHvizKVFUk6YsXAg51lL//koTbjdG2wPdhj1SE+sIFcgAdH4R8mt063TCFEM8+KIeJysZhvXVJ7BV8zKfn3T44mCryy67jc5hWr3GJ3AS/nifIcs8BdBuwT4gl/KB0sv3nianH8oTfT7QXFv9bzzDL4pV7DcqboPC5WpH4fouxdKRl2JjcQcb4jD01FWWIgbDeaQNR88E7NW7splMYj/vlhh3FMSbORK8O8uJq3nhClZfa5EY6iAyTzx4r46LpdzcwtmK+Bu7cxhqhTXO5HL0K46rvyO9uo9SpGmJbfK8AoA+x6HnBYTJgv7MnUsl6kuneEZicjw8YJT8qjSuG/H/6HaYb22rOt2hPa+pTPqSvyHp32iJ0nkQBAgF1zLu/X9SrJhKhnmSVF4mE8YfbqK0texslwMWnbdsZrfBS1qYURTXxt3owmh2yFoBFsg8aCupu5ikOJWZMy8SlmVrg8zPbHPcQ1raO5gCE6Gk+jrpLRN73mWLgZUvsBK6LaVk6qJaOshLcIKBERzoVPgfssOY=
env:
- DEVTOOLS_REPO=https://raw.githubusercontent.com/syncloud/dev-tools/master
after_deploy:
- wget ${DEVTOOLS_REPO}/version-increment
- chmod +x version-increment
- wget ${DEVTOOLS_REPO}/version-push
- chmod +x version-push
- ./version-increment version
- ./universal-version-push version ${TRAVIS_REPO_SLUG} syncloud-build GH_TOKEN ${TRAVIS_BRANCH} "Travis build [skip ci]"
